<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>الورد اليومي</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg:        #FAF6F0;
      --card:      #FFFFFF;
      --border:    #D8D0C4;
      --text:      #000000;
      --muted:     #444444;
      --ref-bg:    #F0EBE3;
      --divider:   #C8C0B4;
      --font-size-base: 32px;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Amiri', serif;
      font-size: var(--font-size-base);
      line-height: 1.9;
      min-height: 100vh;
    }

    /* ─── Header ─── */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg);
      border-bottom: 2px solid var(--border);
      padding: 14px 16px 10px;
    }
    .header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 12px;
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--text);
      color: var(--bg);
      text-decoration: none;
      border-radius: 10px;
      padding: 10px 18px;
      font-family: 'Amiri', serif;
      font-size: 0.7rem;
      font-weight: 700;
      touch-action: manipulation;
      white-space: nowrap;
      transition: opacity 0.15s;
    }
    .back-link:active { opacity: 0.7; }
    .site-title {
      font-size: 1rem;
      font-weight: 700;
      text-align: center;
      flex: 1;
      line-height: 1.3;
    }
    .site-title small {
      display: block;
      font-size: 0.5rem;
      font-weight: 400;
      color: var(--muted);
      margin-top: 2px;
    }

    /* ─── Font Controls ─── */
    .font-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    .font-btn {
      background: var(--text);
      color: var(--bg);
      border: none;
      border-radius: 10px;
      width: 56px;
      height: 56px;
      font-size: 1.5rem;
      font-family: 'Amiri', serif;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      touch-action: manipulation;
      transition: opacity 0.15s;
      user-select: none;
    }
    .font-btn:active { opacity: 0.7; }
    .font-btn:disabled { opacity: 0.3; cursor: default; }
    .font-size-label {
      font-size: 0.75rem;
      color: var(--muted);
      min-width: 54px;
      text-align: center;
      font-weight: 700;
    }

    /* ─── Main ─── */
    .main {
      max-width: 700px;
      margin: 0 auto;
      padding: 24px 14px 80px;
    }

    /* ─── Section heading ─── */
    .section-title {
      font-size: 0.8rem;
      font-weight: 700;
      color: var(--muted);
      text-align: center;
      margin: 32px 0 16px;
      letter-spacing: 0.04em;
      border-bottom: 1.5px solid var(--border);
      padding-bottom: 10px;
    }
    .section-title:first-child { margin-top: 0; }

    /* ─── Wird Card ─── */
    .wird-card {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 18px;
      padding: 28px 22px 24px;
      margin-bottom: 20px;
    }

    /* Card label */
    .card-label {
      display: inline-block;
      background: var(--text);
      color: var(--bg);
      border-radius: 8px;
      padding: 3px 14px;
      font-size: 0.55rem;
      font-weight: 700;
      margin-bottom: 18px;
    }

    /* Verse / text */
    .wird-text {
      font-size: 1em;
      line-height: 2.1;
      color: var(--text);
      text-align: center;
      margin-bottom: 0;
    }
    /* Basmala styling — slightly larger */
    .basmala {
      font-size: 1.05em;
      line-height: 2;
      text-align: center;
      color: var(--text);
      margin-bottom: 14px;
    }

    /* Reference line */
    .wird-ref {
      background: var(--ref-bg);
      border-radius: 10px;
      padding: 10px 16px;
      font-size: 0.52rem;
      color: var(--muted);
      line-height: 1.8;
      margin-top: 16px;
      border-right: 4px solid var(--text);
    }
    .wird-ref strong { color: var(--text); }

    /* ─── Counter ─── */
    .counter-area {
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }
    .counter-tap {
      background: var(--text);
      color: var(--bg);
      border: none;
      border-radius: 14px;
      padding: 15px 28px;
      font-family: 'Amiri', serif;
      font-size: 0.85rem;
      font-weight: 700;
      cursor: pointer;
      touch-action: manipulation;
      transition: transform 0.1s;
      user-select: none;
      min-width: 110px;
      text-align: center;
    }
    .counter-tap:active { transform: scale(0.95); }
    .counter-num {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--text);
      min-width: 52px;
      text-align: center;
    }
    .counter-reset {
      background: transparent;
      color: var(--muted);
      border: 1.5px solid var(--border);
      border-radius: 10px;
      padding: 10px 14px;
      font-family: 'Amiri', serif;
      font-size: 0.6rem;
      cursor: pointer;
      touch-action: manipulation;
      transition: opacity 0.15s;
    }
    .counter-reset:active { opacity: 0.6; }

    /* ─── Divider ─── */
    .divider {
      height: 1px;
      background: var(--divider);
      margin: 0 16px 20px;
    }

    /* ─── Footer ─── */
    .site-footer {
      text-align: center;
      color: var(--muted);
      font-size: 0.5rem;
      padding: 16px;
    }

    /* ─── Back-to-top ─── */
    #back-top {
      position: fixed;
      bottom: 24px;
      left: 16px;
      background: var(--text);
      color: var(--bg);
      border: none;
      border-radius: 50%;
      width: 54px;
      height: 54px;
      font-size: 1.4rem;
      cursor: pointer;
      display: none;
      align-items: center;
      justify-content: center;
      touch-action: manipulation;
      z-index: 200;
    }
    #back-top.visible { display: flex; }
    #back-top:active { opacity: 0.7; }

    @media (max-width: 420px) {
      .wird-card { padding: 20px 14px 18px; }
      .font-btn { width: 50px; height: 50px; font-size: 1.3rem; }
    }
  </style>
</head>
<body>

<header class="site-header">
  <div class="header-row">
    <a href="index.html" class="back-link">&#8592; رجوع</a>
    <div class="site-title">
      الورد اليومي
      <small>أذكار وقرآن كريم</small>
    </div>
  </div>
  <div class="font-controls">
    <button class="font-btn" id="font-down" aria-label="تصغير الخط">أ−</button>
    <span class="font-size-label" id="font-label">كبير</span>
    <button class="font-btn" id="font-up"   aria-label="تكبير الخط">أ+</button>
  </div>
</header>

<main class="main">

  <!-- ══════════════════════════════
       القرآن الكريم
  ══════════════════════════════ -->
  <h2 class="section-title">﴿ القرآن الكريم ﴾</h2>

  <!-- سورة الفاتحة -->
  <article class="wird-card" id="w1">
    <div class="card-label">سورة الفاتحة</div>
    <div class="wird-text">
      بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ
    </div>
    <div class="wird-text" style="margin-top:10px">
      ٱلۡحَمۡدُ لِلَّهِ رَبِّ ٱلۡعَٰلَمِينَ ۝ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ ۝ مَٰلِكِ يَوۡمِ ٱلدِّينِ ۝ إِيَّاكَ نَعۡبُدُ وَإِيَّاكَ نَسۡتَعِينُ ۝ ٱهۡدِنَا ٱلصِّرَٰطَ ٱلۡمُسۡتَقِيمَ ۝ صِرَٰطَ ٱلَّذِينَ أَنۡعَمۡتَ عَلَيۡهِمۡ غَيۡرِ ٱلۡمَغۡضُوبِ عَلَيۡهِمۡ وَلَا ٱلضَّآلِّينَ ۝
    </div>
    <div class="wird-ref">
      <strong>السورة:</strong> الفاتحة · ٧ آيات · مكية · أركان الصلاة
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w1')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w1">٠</span>
      <button class="counter-tap" onclick="tapCounter('w1')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

  <div class="divider"></div>

  <!-- سورة الإخلاص -->
  <article class="wird-card" id="w2">
    <div class="card-label">سورة الإخلاص</div>
    <div class="wird-text">
      بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ
    </div>
    <div class="wird-text" style="margin-top:10px">
      قُلۡ هُوَ ٱللَّهُ أَحَدٌ ۝ ٱللَّهُ ٱلصَّمَدُ ۝ لَمۡ يَلِدۡ وَلَمۡ يُولَدۡ ۝ وَلَمۡ يَكُن لَّهُۥ كُفُوًا أَحَدٌۢ ۝
    </div>
    <div class="wird-ref">
      <strong>السورة:</strong> الإخلاص · ٤ آيات · مكية · تعدل ثلث القرآن
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w2')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w2">٠</span>
      <button class="counter-tap" onclick="tapCounter('w2')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

  <div class="divider"></div>

  <!-- سورة الفلق -->
  <article class="wird-card" id="w3">
    <div class="card-label">سورة الفلق</div>
    <div class="wird-text">
      بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ
    </div>
    <div class="wird-text" style="margin-top:10px">
      قُلۡ أَعُوذُ بِرَبِّ ٱلۡفَلَقِ ۝ مِن شَرِّ مَا خَلَقَ ۝ وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ ۝ وَمِن شَرِّ ٱلنَّفَّٰثَٰتِ فِي ٱلۡعُقَدِ ۝ وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ ۝
    </div>
    <div class="wird-ref">
      <strong>السورة:</strong> الفلق · ٥ آيات · مكية · من المعوذتين
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w3')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w3">٠</span>
      <button class="counter-tap" onclick="tapCounter('w3')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

  <div class="divider"></div>

  <!-- سورة الناس -->
  <article class="wird-card" id="w4">
    <div class="card-label">سورة الناس</div>
    <div class="wird-text">
      بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ
    </div>
    <div class="wird-text" style="margin-top:10px">
      قُلۡ أَعُوذُ بِرَبِّ ٱلنَّاسِ ۝ مَلِكِ ٱلنَّاسِ ۝ إِلَٰهِ ٱلنَّاسِ ۝ مِن شَرِّ ٱلۡوَسۡوَاسِ ٱلۡخَنَّاسِ ۝ ٱلَّذِي يُوَسۡوِسُ فِي صُدُورِ ٱلنَّاسِ ۝ مِنَ ٱلۡجِنَّةِ وَٱلنَّاسِ ۝
    </div>
    <div class="wird-ref">
      <strong>السورة:</strong> الناس · ٦ آيات · مكية · من المعوذتين
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w4')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w4">٠</span>
      <button class="counter-tap" onclick="tapCounter('w4')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

  <!-- ══════════════════════════════
       أذكار مأثورة
  ══════════════════════════════ -->
  <h2 class="section-title">﴿ أذكار مأثورة ﴾</h2>

  <!-- ذكر ١: أعوذ بكلمات الله التامات -->
  <article class="wird-card" id="w5">
    <div class="card-label">دعاء الاستعاذة</div>
    <div class="wird-text">
      «أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ»
    </div>
    <div class="wird-ref">
      <strong>الراوي:</strong> أبو هريرة رضي الله عنه — أن النبيَّ ﷺ قال:
      «مَنْ نَزَلَ مَنْزِلًا فَقَالَ: أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ؛
      لَمْ يَضُرَّهُ شَيْءٌ حَتَّى يَرْتَحِلَ مِنْ مَنْزِلِهِ ذَلِكَ»<br>
      <strong>المصدر:</strong> رواه مسلم (2708)
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w5')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w5">٠</span>
      <button class="counter-tap" onclick="tapCounter('w5')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

  <div class="divider"></div>

  <!-- ذكر ٢: بسم الله الذي لا يضر -->
  <article class="wird-card" id="w6">
    <div class="card-label">دعاء الصباح والمساء</div>
    <div class="wird-text">
      «بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ»
    </div>
    <div class="wird-ref">
      <strong>الراوي:</strong> عثمان بن عفان رضي الله عنه — أن النبيَّ ﷺ قال:
      «مَنْ قَالَ: بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ — ثَلَاثَ مَرَّاتٍ؛ لَمْ تُصِبْهُ فَجْأَةُ بَلَاءٍ حَتَّى يُصْبِحَ، وَمَنْ قَالَهَا حِينَ يُصْبِحُ ثَلَاثَ مَرَّاتٍ لَمْ تُصِبْهُ فَجْأَةُ بَلَاءٍ حَتَّى يُمْسِيَ»<br>
      <strong>المصدر:</strong> صحيح أبي داود (5088) والترمذي (3388)
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w6')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w6">٠</span>
      <button class="counter-tap" onclick="tapCounter('w6')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

  <div class="divider"></div>

  <!-- ذكر ٣: سبحان الله والحمد لله -->
  <article class="wird-card" id="w7">
    <div class="card-label">التسبيح والتحميد والتهليل والتكبير</div>
    <div class="wird-text">
      «سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ»
    </div>
    <div class="wird-ref">
      <strong>الراوي:</strong> أبو هريرة رضي الله عنه — أن النبيَّ ﷺ قال:
      «لَأَنْ أَقُولَ: سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ —
      أَحَبُّ إِلَيَّ مِمَّا طَلَعَتْ عَلَيْهِ الشَّمْسُ»<br>
      <strong>المصدر:</strong> رواه مسلم (2695)
    </div>
    <div class="counter-area">
      <button class="counter-reset" onclick="resetCounter('w7')" aria-label="صفر">↺ صفر</button>
      <span class="counter-num" id="count-w7">٠</span>
      <button class="counter-tap" onclick="tapCounter('w7')" aria-label="عدّ">اضغط للعدّ</button>
    </div>
  </article>

</main>

<footer class="site-footer">الورد اليومي · من جوامع دعاء النبي ﷺ</footer>

<button id="back-top" aria-label="العودة للأعلى">↑</button>

<script>
// ──────────────────────────────────
// COUNTER
// ──────────────────────────────────
const counters = {};

function tapCounter(id) {
  if (!counters[id]) counters[id] = 0;
  counters[id]++;
  updateCountDisplay(id);
  const btn = document.querySelector(`#${id} .counter-tap`);
  if (btn) {
    btn.style.transform = 'scale(0.94)';
    setTimeout(() => { btn.style.transform = ''; }, 120);
  }
}
function resetCounter(id) {
  counters[id] = 0;
  updateCountDisplay(id);
}
function updateCountDisplay(id) {
  const el = document.getElementById(`count-${id}`);
  if (el) el.textContent = toArabicNum(counters[id] || 0);
}
function toArabicNum(n) {
  return n.toString().replace(/\d/g, d => '٠١٢٣٤٥٦٧٨٩'[d]);
}

// ──────────────────────────────────
// FONT SIZE
// ──────────────────────────────────
const FONT_SIZES = [
  { label: 'صغير',  px: 22 },
  { label: 'متوسط', px: 28 },
  { label: 'كبير',  px: 32 },
  { label: 'أكبر',  px: 38 }
];
let fontIdx = 2;

function applyFont() {
  const f = FONT_SIZES[fontIdx];
  document.documentElement.style.setProperty('--font-size-base', f.px + 'px');
  document.getElementById('font-label').textContent = f.label;
  document.getElementById('font-up').disabled   = (fontIdx === FONT_SIZES.length - 1);
  document.getElementById('font-down').disabled = (fontIdx === 0);
}

document.getElementById('font-up').addEventListener('click', () => {
  if (fontIdx < FONT_SIZES.length - 1) { fontIdx++; applyFont(); localStorage.setItem('athkar-font', fontIdx); }
});
document.getElementById('font-down').addEventListener('click', () => {
  if (fontIdx > 0) { fontIdx--; applyFont(); localStorage.setItem('athkar-font', fontIdx); }
});

// ──────────────────────────────────
// BACK TO TOP
// ──────────────────────────────────
const backBtn = document.getElementById('back-top');
window.addEventListener('scroll', () => {
  backBtn.classList.toggle('visible', window.scrollY > 300);
});
backBtn.addEventListener('click', () => {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

// ──────────────────────────────────
// RESTORE FONT
// ──────────────────────────────────
const savedFont = parseInt(localStorage.getItem('athkar-font'));
if (!isNaN(savedFont) && savedFont >= 0 && savedFont < FONT_SIZES.length) {
  fontIdx = savedFont;
}
applyFont();
</script>
</body>
</html>
